function admin_login(){var t=document.getElementById("adminname").value,e=document.getElementById("adminpasswd").value;if(""===t.trim()||""===e.trim())alert("请输入有效的账号和密码");else{let n=document.getElementById("login_button");n.textContent="登录中...",n.disabled=!0,fetch("/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminname:t,adminpasswd:e})}).then(e=>{e.json().then(t=>{200===e.status?(n.textContent="登录",n.disabled=!1,window.location.href="/admin/set"):(n.textContent="登录",n.disabled=!1),alert(t.msg)})}).catch(t=>{console.error("网络错误或其他错误:",t),n.textContent="登录",n.disabled=!1,alert("登录失败，可能网络错误。",t)})}}